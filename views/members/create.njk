{% extends "layout.njk" %}

{% block content %}
  <form method="POST" {% if member.id != null %} action="/members?_method=PUT" {% else %} action="/members" {% endif %}>
    <div class="card">

      <section class="avatar" style="background:url({% if member.id != null %} {{member.avatar_url}}   {% else %} https://source.unsplash.com/collection/3465564/400x400 {% endif %}) no-repeat center center / cover"></section>

      <section class="details">
        {% if member.id != null %}
          <input type="hidden" name="id" value="{{member.id}}">
          <h3>Editar Membro</h3>
        {% else %}
          <h3>Novo Membro</h3>
        {% endif %}
        <div class="item">
          <div>Avatar</div>
          <div><input type="url" name="avatar_url" placeholder="http://" required="required" value="{{member.avatar_url}}"></div>
        </div>

        <div class="item">
          <div>Membro</div>
          <div><input type="text" name="name" placeholder="Nome do Membro" value="{{member.name}}"></div>
        </div>

        <div class="item">
          <div>Data de Nascimento</div>
          <div><input type="date" name="birth" value="{{member.birth}}"></div>
        </div>

        <div class="item">
          <div>Sexo</div>
          <div>
            <span>
              <input type="radio" name="gender" checked="checked" value="M">
              Masculino
            </span>
            <span>
              <input type="radio" name="gender" {% if member.gender == "F" %} checked="checked" {% endif %} value="F">
              Feminino
            </span>

          </div>
        </div>

        <button type="submit">
          {% if member.id == null %}
            Salvar
          {% else %}
            Editar
          {% endif %}
        </button>

      </form>
      {% if member.id != null %}
        <form id="form-delete" method="POST" action="/members?_method=DELETE">
          <input type="hidden" name="id" value="{{member.id}}">
          <button type="submit">
            Deletar
          </button>
        </form>
      {% endif %}

    </section>
  </div>

{% endblock %}